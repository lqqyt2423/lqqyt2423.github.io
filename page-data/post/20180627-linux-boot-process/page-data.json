{"componentChunkName":"component---src-templates-blog-post-js","path":"/post/20180627-linux-boot-process/","result":{"data":{"site":{"siteMetadata":{"title":"lqqyt2423's blog"}},"markdownRemark":{"id":"7409bcdc-4184-5160-9e90-456bf77c536a","excerpt":"读入 目录下的内核文件 运行第一个程序，作用为初始化系统环境 之间就直接链接至 文件夹，逐一加载启动脚本。 目前 已经取代 成为系统的第一个进程，PID等于1，其他进程都是它的子进程。  开机执行 中的配置文件 Systemd 有默认的启动 Target，一般是multi-user.target…","html":"<h2>读入<code class=\"language-text\">/boot</code> 目录下的内核文件</h2>\n<h2>运行第一个程序<code class=\"language-text\">/sbin/init</code>，作用为初始化系统环境</h2>\n<p>之间就直接链接至<code class=\"language-text\">/etc/init.d</code> 文件夹，逐一加载启动脚本。</p>\n<p>目前<code class=\"language-text\">Systemd</code> 已经取代<code class=\"language-text\">initd</code> 成为系统的第一个进程，PID等于1，其他进程都是它的子进程。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lrwxrwxrwx 1 root root 20 Oct 27  2017 /sbin/init -&gt; /lib/systemd/systemd</code></pre></div>\n<h3><code class=\"language-text\">Systemd</code> 开机执行<code class=\"language-text\">/etc/systemd/system</code> 中的配置文件</h3>\n<p>Systemd 有默认的启动 Target，一般是multi-user.target，所以开机启动的配置项会放在<code class=\"language-text\">/etc/systemd/system/multi-user.target.wants</code> 目录中。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">systemctl <span class=\"token builtin class-name\">enable</span> mongod.service\n<span class=\"token comment\"># Created symlink from /etc/systemd/system/multi-user.target.wants/mongod.service to /lib/systemd/system/mongod.service.</span></code></pre></div>\n<p>如上面命令所示，用<code class=\"language-text\">enable</code> 命令设置开机启动后，会在此目录中添加一个符号链接，指向真正的配置文件。</p>\n<p>也可通过命令查看开机启动项：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">systemctl list-unit-files --type<span class=\"token operator\">=</span>service <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> enabled</code></pre></div>\n<p>查看特定程序的开机运行状态可以为：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">systemctl status mongod.service</code></pre></div>\n<p>在输出的<code class=\"language-text\">Loaded:</code> 表示是否会开机启动，<code class=\"language-text\">Active:</code> 表示当前的运行状态。</p>\n<h2>参考链接</h2>\n<ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2013/08/linux_boot_process.html\">Linux 的启动流程</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html\">Systemd 入门教程：命令篇</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html\">Systemd 入门教程：实战篇</a></li>\n<li><a href=\"https://wiki.archlinux.org/index.php/systemd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\">Systemd (简体中文) - ArchWiki</a></li>\n<li><a href=\"https://www.centos.bz/2018/03/systemd-%E4%B8%8B%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E7%9A%84%E4%BC%98%E5%8C%96%EF%BC%8C%E5%88%A0%E9%99%A4%E6%97%A0%E7%94%A8%E7%9A%84systemd%E6%9C%8D%E5%8A%A1/\">systemd 下开机启动的优化，删除无用的systemd服务</a></li>\n</ul>","frontmatter":{"title":"Linux 开机流程梳理","date":"June 26, 2018","description":""}}},"pageContext":{"slug":"/20180627-linux-boot-process/","previous":{"fields":{"slug":"/20180625-simple-functions-of-golang/","path":"/post/20180625-simple-functions-of-golang/"},"frontmatter":{"title":"学习golang之一些小函数记录"}},"next":{"fields":{"slug":"/20180715-python-basic-notes/","path":"/post/20180715-python-basic-notes/"},"frontmatter":{"title":"Python 基础知识点"}}}}}