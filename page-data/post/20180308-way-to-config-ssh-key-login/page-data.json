{"componentChunkName":"component---src-templates-blog-post-js","path":"/post/20180308-way-to-config-ssh-key-login/","result":{"data":{"site":{"siteMetadata":{"title":"lqqyt2423's blog"}},"markdownRemark":{"id":"bcbdb2d2-fbe6-529b-bf89-f263f6ad9c5a","excerpt":"通过给Linux 服务器设置密钥登录，可以避免每次登录服务器都输入密码，也会更安全一些。 密钥形式登录的原理是：利用密钥生成器制作一对密钥——一只公钥和一只私钥。将公钥添加到服务器的某个账户上，然后在客户端利用私钥即可完成认证并登录。这样一来，没有私钥，任何人都无法通过 SSH…","html":"<p>通过给Linux 服务器设置密钥登录，可以避免每次登录服务器都输入密码，也会更安全一些。</p>\n<blockquote>\n<p>密钥形式登录的原理是：利用密钥生成器制作一对密钥——一只公钥和一只私钥。将公钥添加到服务器的某个账户上，然后在客户端利用私钥即可完成认证并登录。这样一来，没有私钥，任何人都无法通过 SSH 暴力破解你的密码来远程登录到系统。此外，如果将公钥复制到其他账户甚至主机，利用私钥也可以登录。</p>\n</blockquote>\n<p>下面是服务器生成密钥及客户端登录的过程：</p>\n<h2>1. 在服务器上制作密钥对</h2>\n<p>在<code class=\"language-text\">bash</code> 中输入下面命令，多敲几次回车即可在目录<code class=\"language-text\">/root/.ssh/</code> 中生成<code class=\"language-text\">id_rsa</code> 公钥及<code class=\"language-text\">id_rsa.pub</code> 私钥</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ssh-keygen</code></pre></div>\n<h2>2. 通过<code class=\"language-text\">scp</code> 将私钥保存下载在自己的客户端电脑上</h2>\n<h2>3. 在服务器上安装公钥且修改对应文件的权限</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd .ssh\ncat id_rsa.pub &gt;&gt; authorized_keys\n\nchmod 600 authorized_keys\nchmod 700 ~/.ssh</code></pre></div>\n<h2>4. 编辑SSH 配置文件<code class=\"language-text\">/etc/ssh/sshd_config</code></h2>\n<ul>\n<li>第三行表示root 用户可以通过SSH 登录</li>\n<li>第四行表示禁止用密码登录</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">RSAAuthentication yes\nPubkeyAuthentication yes\nPermitRootLogin yes\nPasswordAuthentication no</code></pre></div>\n<h2>5. 重启SSH 服务</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">service sshd restart</code></pre></div>\n<h2>6. 在本地电脑上远程登录即可</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ssh root@xxx.xx.xx.xx -i ~/ssh_pub.pem</code></pre></div>\n<blockquote>\n<p>原文地址：<a href=\"https://hyjk2000.github.io/2012/03/16/how-to-set-up-ssh-keys/\">设置 SSH 通过密钥登录</a></p>\n</blockquote>","frontmatter":{"title":"服务器设置SSH 通过密钥登录","date":"March 07, 2018","description":""}}},"pageContext":{"slug":"/20180308-way-to-config-ssh-key-login/","previous":{"fields":{"slug":"/20180220-achieve-simple-http-server-by-nodejs/","path":"/post/20180220-achieve-simple-http-server-by-nodejs/"},"frontmatter":{"title":"Node 实现简单HTTP 代理服务器"}},"next":{"fields":{"slug":"/20180320-knowledge-of-linux/","path":"/post/20180320-knowledge-of-linux/"},"frontmatter":{"title":"Linux 知识点"}}}}}